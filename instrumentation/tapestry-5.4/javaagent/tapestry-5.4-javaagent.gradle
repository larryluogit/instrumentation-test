ext {
  maxJavaVersionForTests = JavaVersion.VERSION_1_8
}

apply from: "$rootDir/gradle/instrumentation.gradle"

muzzle {
  pass {
    group = "org.apache.tapestry"
    module = "tapestry-core"
    versions = "[5.4.0,)"
    assertInverse = true
  }
}

dependencies {
  library 'org.apache.tapestry:tapestry-core:5.4.0'

  testImplementation group: 'org.eclipse.jetty', name: 'jetty-webapp', version: '8.0.0.v20110901'
  testImplementation group: 'org.jsoup', name: 'jsoup', version: '1.13.1'
  testImplementation 'javax.annotation:javax.annotation-api:1.3.2'

  testInstrumentation project(':instrumentation:jetty:jetty-8.0:javaagent')
  testInstrumentation project(':instrumentation:servlet:servlet-3.0:javaagent')
  testInstrumentation project(':instrumentation:servlet:servlet-javax-common:javaagent')
}