apply from: "$rootDir/gradle/instrumentation.gradle"

muzzle {
  pass {
    group = "org.eclipse.jetty"
    module = 'jetty-client'
    versions = "[9.2,9.4)"
    assertInverse = true
  }
}


//Jetty client 9.2 is the best starting point, HttpClient.send() is stable there
def jettyVers_base9 = '9.2.0.v20140526'


dependencies {
  implementation project(':instrumentation:jetty-httpclient:jetty-httpclient-9.2:library')

  library "org.eclipse.jetty:jetty-client:${jettyVers_base9}"
  latestDepTestLibrary "org.eclipse.jetty:jetty-client:9.+"

  testImplementation project(':instrumentation:jetty-httpclient:jetty-httpclient-9.2:testing')
  testImplementation("org.eclipse.jetty:jetty-server:${jettyVers_base9}") {
    exclude group: 'org.eclipse.jetty', module: 'jetty-client'
  }
}
