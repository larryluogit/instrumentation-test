allprojects {
  apply plugin: 'com.github.spotbugs'

  spotbugs {
    ignoreFailures = true
    reportLevel = "high"
    omitVisitors = ["FindDeadLocalStores"]
    effort = "max"
    excludeFilter = file("$rootDir/gradle/spotbugs-exclude.xml")
    toolVersion = '4.1.3'
  }

  spotbugsTest {
    reports {
      html {
        enabled = true
        destination = file("$buildDir/reports/spotbugs/main/spotbugs.html")
        stylesheet = 'fancy-hist.xsl'
      }
    }
  }
  spotbugsMain {
    reports {
      html {
        enabled = false
        destination = file("$buildDir/reports/spotbugs/main/spotbugs.html")
        stylesheet = 'fancy-hist.xsl'
      }
    }
  }

}
